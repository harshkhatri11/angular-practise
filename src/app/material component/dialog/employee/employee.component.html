<mat-toolbar color="primary">
  <mat-toolbar-row fxLayout="row">
      <span class="title-center">{{dialogData.action}} Employee</span>
  </mat-toolbar-row>
</mat-toolbar>

<mat-dialog-content class="mat-typography">
  <form [formGroup]="employeeForm">
      <div style="display: flex;">
      <div class="user-img-container">
          <img [src]="avatarImg" class="user-image" *ngIf="dialogAction === 'Edit'">
          <img src="../../../../assets/image/avatar.png" class="user-image" *ngIf="dialogAction === 'Add'">
      </div>
      <span class="user-border"></span>
      <div class="user-details-container">
          <mat-tab-group>
          <mat-tab label="Basic Details">
              <div fxFlex fxLayout="column" class="mt-3">
                  <div fxLayout="row wrap">
                      <div class="user-img-mobile">
                          <img [src]="avatarImg" class="user-image" *ngIf="dialogAction === 'Edit'">
                          <img src="../../../../assets/image/avatar.png" class="user-image" *ngIf="dialogAction === 'Add'">
                      </div>
                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>First Name</mat-label>
                          <input matInput formControlName="firstName" required>
                          <mat-error
                              *ngIf="employeeForm.controls.firstName.touched && employeeForm.controls.firstName.invalid">
                              <span *ngIf="employeeForm.controls.firstName.errors.required">This field is manadatory</span>
                              <span *ngIf="employeeForm.controls.firstName.errors.pattern">This field is invalid</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Last Name</mat-label>
                          <input matInput formControlName="lastName" required>
                          <mat-error
                              *ngIf="employeeForm.controls.lastName.touched && employeeForm.controls.lastName.invalid">
                              <span *ngIf="employeeForm.controls.lastName.errors.required">This field is manadatory</span>
                                  <span *ngIf="employeeForm.controls.lastName.errors.pattern">This field is invalid</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline">
                          <mat-label>Gender</mat-label>
                          <mat-select formControlName="sex">
                              <mat-option *ngFor="let gender of genders" [value]="gender">
                                  {{gender}}
                              </mat-option>
                          </mat-select>
                      </mat-form-field>
                  </div>
                  <div fxLayout="row wrap">
                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Email</mat-label>
                          <input matInput formControlName="email" required type="email">
                          <mat-error
                              *ngIf="employeeForm.controls.email.touched && employeeForm.controls.email.invalid">
                              <span *ngIf="employeeForm.controls.email.errors.required">This field is
                                  manadatory</span>
                              <span *ngIf="employeeForm.controls.email.errors.email">This email is not valid</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Phone</mat-label>
                          <input matInput formControlName="phone" required>
                          <mat-error
                              *ngIf="employeeForm.controls.phone.touched && employeeForm.controls.phone.invalid">
                              <span *ngIf="employeeForm.controls.phone.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>
                  </div>
                  <div fxLayout="row wrap">
                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Home / Flat no</mat-label>
                          <input matInput formControlName="address_2" required>
                          <mat-error
                              *ngIf="employeeForm.controls.address_2.touched && employeeForm.controls.address_2.invalid">
                              <span *ngIf="employeeForm.controls.address_2.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Street name</mat-label>
                          <input matInput formControlName="address" required>
                          <mat-error
                              *ngIf="employeeForm.controls.address.touched && employeeForm.controls.address.invalid">
                              <span *ngIf="employeeForm.controls.address.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Zip Code</mat-label>
                          <input matInput formControlName="zip_code" required>
                          <mat-error
                              *ngIf="employeeForm.controls.zip_code.touched && employeeForm.controls.zip_code.invalid">
                              <span *ngIf="employeeForm.controls.zip_code.errors.required">This field is manadatory</span>
                                  <span *ngIf="employeeForm.controls.zip_code.errors.pattern">This field is invalid</span>
                          </mat-error>
                      </mat-form-field>
                  </div>

                  <div fxLayout="row wrap">

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>City</mat-label>
                          <input matInput formControlName="city" required>
                          <mat-error *ngIf="employeeForm.controls.city.touched && employeeForm.controls.city.invalid">
                              <span *ngIf="employeeForm.controls.city.errors.required">This field is manadatory</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>State</mat-label>
                          <input matInput formControlName="state" required>
                          <mat-error
                              *ngIf="employeeForm.controls.state.touched && employeeForm.controls.state.invalid">
                              <span *ngIf="employeeForm.controls.state.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Country</mat-label>
                          <input matInput formControlName="country" required>
                          <mat-error
                              *ngIf="employeeForm.controls.country.touched && employeeForm.controls.country.invalid">
                              <span *ngIf="employeeForm.controls.country.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>
                  </div>
                  <div fxLayout="row wrap">
                      <mat-form-field appearance="outline">
                          <mat-label>Birthday</mat-label>
                          <div style="display: flex;">
                              <input matInput [matDatepicker]="picker2" formControlName="birthday" [max]="today">
                              <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
                          </div>
                          <mat-datepicker #picker2></mat-datepicker>

                          <mat-hint>DD/MM/YYYY</mat-hint>
                      </mat-form-field>
                  </div>

              </div>
          </mat-tab>
          <mat-tab label="Professional Details">
              <div fxFlex fxLayout="column" class="mt-3">
                  <div fxLayout="row wrap">

                      <mat-form-field appearance="outline" fxFlex class="w-75">
                          <mat-label>Employee ID</mat-label>
                          <input matInput formControlName="employment_id" required (keydown)="OnChangingID()">
                          <mat-icon  matSuffix (click)="checkEmpID()"
                                     [ngClass]="result?'empid-not-exist':'empid-exist'"
                                     style="cursor: pointer;"
                                     *ngIf="dialogAction === 'Add'"
                                     >
                                     done
                          </mat-icon>
                          <mat-hint *ngIf="dialogAction === 'Add'">Click on icon to validate Eemployee ID</mat-hint>
                          <mat-error
                              *ngIf="employeeForm.controls.employment_id.touched && employeeForm.controls.employment_id.invalid">
                              <span *ngIf="employeeForm.controls.employment_id.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline" fxFlex>
                          <mat-label>Job Title</mat-label>
                          <input matInput formControlName="job_title" required>
                          <mat-error
                              *ngIf="employeeForm.controls.job_title.touched && employeeForm.controls.job_title.invalid">
                              <span *ngIf="employeeForm.controls.job_title.errors.required">This field is
                                  manadatory</span>
                          </mat-error>
                      </mat-form-field>

                      <mat-form-field appearance="outline">
                          <mat-label>Employment Type</mat-label>
                          <mat-select formControlName="employment_type">
                              <mat-option *ngFor="let empType of employmentType" [value]="empType">
                                  {{empType}}
                              </mat-option>
                          </mat-select>
                      </mat-form-field>

                  </div>
                  <div fxLayout="row wrap">
                      <mat-form-field appearance="outline">
                          <mat-label>date of Joining</mat-label>
                          <div style="display: flex;">
                              <input matInput [matDatepicker]="picker1" formControlName="joining_date">
                              <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                              <mat-datepicker #picker1></mat-datepicker>
                          </div>
                          <mat-hint>DD/MM/YYYY</mat-hint>
                      </mat-form-field>

                      <mat-form-field appearance="outline">
                          <mat-label>Employment Status</mat-label>
                          <mat-select formControlName="employment_status">
                              <mat-option *ngFor="let empStatus of employeeStatus" [value]="empStatus">
                                  {{empStatus}}
                              </mat-option>
                          </mat-select>
                      </mat-form-field>
                  </div>
              </div>
          </mat-tab>
          </mat-tab-group>
      </div>
  </div>


  </form>
</mat-dialog-content>

<mat-dialog-actions align="center">
  <button mat-raised-button color="primary" type="submit" (click)="handleSubmit()"
      [disabled]="!(employeeForm.valid && employeeForm.dirty) || (this.dialogAction === 'Add' && !result)">{{action}}
  </button>

  <button mat-raised-button color="primary" mat-dialog-close>Close</button>

</mat-dialog-actions>




